C51 COMPILER V9.60.0.0   MAIN                                                              06/21/2024 18:50:58 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Program Files\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.
                    -\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <reg51.h>  
   2            
   3          
   4          char sdata;  
   5          // 串口初始化函数  
   6          void Serial_Init() {  
   7   1        PCON &= 0x7F;   //波特率不倍速
   8   1        SCON = 0x50;    //8位数据,可变波特率
   9   1        TMOD &= 0x0F;   //设置定时器模式
  10   1        TMOD |= 0x20;   //设置定时器模式
  11   1        TL1 = 0xF9;     //设置定时初始值
  12   1        TH1 = 0xF9;     //设置定时重载值
  13   1        ET1 = 0;      //禁止定时器中断
  14   1        TR1 = 1;      //定时器1开始计时
  15   1        EA = 1; 
  16   1        ES = 1;       //使能串口1中断
  17   1      }  
  18           
  19          
  20            
  21          
  22          void UART_SendByte(unsigned char Byte)
  23          {
  24   1        SBUF=Byte;
  25   1        while(TI==0);
  26   1        TI=0;
  27   1      }
  28          
  29          
  30            
  31          // 串口接收中断服务程序  
  32          void Serial_ISR() interrupt 4 {  
  33   1          if (RI) {           // 检查接收中断标志  
  34   2              sdata = SBUF; // 读取接收到的数据  
  35   2              RI = 0;         // 清除接收中断标志  
  36   2              if (sdata >= 'a' && sdata <= 'z') {  
  37   3                  sdata = 'A'; // 将小写字母转为大写  
  38   3              }
  39   2            
  40   2              UART_SendByte(sdata);
  41   2      
  42   2          }  
  43   1      }  
  44            
  45          void main() {  
  46   1          Serial_Init();      // 初始化串口  
  47   1        
  48   1          while (1) {  
  49   2              
  50   2          }  
  51   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
C51 COMPILER V9.60.0.0   MAIN                                                              06/21/2024 18:50:58 PAGE 2   

   CODE SIZE        =    105    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
