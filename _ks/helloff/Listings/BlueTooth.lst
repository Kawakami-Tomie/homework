C51 COMPILER V9.60.0.0   BLUETOOTH                                                         07/07/2024 01:56:30 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE BLUETOOTH
OBJECT MODULE PLACED IN .\Objects\BlueTooth.obj
COMPILER INVOKED BY: D:\Program Files\Keil_v5\C51\BIN\C51.EXE BlueTooth.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PR
                    -INT(.\Listings\BlueTooth.lst) TABS(2) OBJECT(.\Objects\BlueTooth.obj)

line level    source

   1          #include <REGX52.H>
   2          
   3          
   4          
   5          
   6          #define RELOAD_COUNT 0xFA //宏定义波特率发生器的载入值 9600
   7          
   8          //配置蓝牙串口
   9          void UART_Init(void)
  10          {
  11   1        SCON=0X50;      //设置为工作方式1
  12   1        TMOD=0X20;      //设置计数器工作方式2
  13   1        PCON=0X80;      //波特率加倍
  14   1        TH1=RELOAD_COUNT; //计数器初始值设置
  15   1        TL1=TH1;
  16   1        ES=1;       //打开接收中断
  17   1        EA=1;       //打开总中断
  18   1        TR1=1;        //打开计数器
  19   1      }
  20          
  21          
  22          void UART_SendByte(unsigned char dat)
  23          {
  24   1        ES=0; //关闭串口中断
  25   1        TI=0; //清发送完毕中断请求标志位
  26   1        SBUF=dat; //发送
  27   1        while(TI==0); //等待发送完毕
  28   1        TI=0; //清发送完毕中断请求标志位
  29   1        ES=1; //允许串口中断
  30   1      }
  31          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     36    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
